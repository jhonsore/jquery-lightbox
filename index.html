<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Plugin</title>
<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="jquery-lightbox.js"></script>
<script type="text/javascript">
	jQuery(document).ready(
	function()
	{
		var _html;
		
		//------------------------------
		$("#button-4").click(function(){
			_html = '<div style="background-color:#ffffff; border:1px solid red;"><div style="padding:40px 20px;">Após 6 segundo o método para remover o overlay será chamado</div></div>';

			$('#element-2').lightbox({
                                zIndex:99999,
								added: itemAdded,
								destroyed: destroyed,
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:300,
								type:'html',
								contentHtml:_html,
								closeWhenClickOutside:false,
								closeWithDelay:6
								});
			return false;	
		});
		
		function itemAdded ()
		{
			var interval = setTimeout(function(){ $('#element-2').lightbox("remove"); clearTimeout(interval);},4000);
		}
		
		//------------------------------
		$("#button-3").click(function(){
			_html = '<div style="background-color:#ffffff; border:1px solid red;"><div style="padding:40px 20px;">Este overlay irá fechar após 4 segundos</div></div>';

			$('#element').lightbox({
                                zIndex:99999,
								destroyed: destroyed,
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:300,
								type:'html',
								contentHtml:_html,
								closeWhenClickOutside:false,
								closeWithDelay:4
								});
			return false;	
		});
		
		//lightbox com html simples
		var _html1 = '<div style="background-color:#ffffff; border:1px solid red;"><a href="#" class="lightbox-button-close"style="border:1px solid #000000; padding:10px; display:inline-block; margin:30px; position:absolute; top:0; right:0">X</a><a id="button-load-3" href="#" style="border:1px solid #000000; padding:10px; display:inline-block; margin:30px;">abrir novo overlay</a><br><br>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus tincidunt, metus non faucibus dignissim, ante neque pulvinar neque, eget tristique quam libero at enim. Nullam vel eros ut sem volutpat ultrices et sit amet sapien. Maecenas tincidunt posuere ligula sed efficitur. In pellentesque enim eget nunc bibendum, quis dignissim dui hendrerit. Ut id pharetra quam. Nunc a tincidunt nisi. Vestibulum in molestie metus, sed imperdiet ligula. Nunc suscipit tellus non ultrices convallis. Etiam pharetra fringilla arcu.Vestibulum eleifend sapien lacus, et sollicitudin eros dictum eu. Sed libero erat, dictum vel tellus vitae, gravida auctor ipsum. Vivamus lacus risus, semper quis dignissim id, vestibulum non nisl. Sed ipsum diam, viverra quis sagittis eu, rhoncus et nisi. Etiam eu tristique mauris, quis sodales nulla. Cras id posuere mauris. Nullam id sapien nec felis sollicitudin tincidunt. Donec tincidunt arcu neque, at tincidunt est accumsan non. Proin posuere massa id nisl posuere convallis. Integer vel sem placerat, ullamcorper lectus non, porta massa. Vestibulum vel leo velit. Aliquam eget vestibulum dui, pulvinar facilisis diam. Curabitur scelerisque, orci at aliquam feugiat, ligula orci pulvinar metus, ut porttitor orci ipsum quis leo.Nunc viverra, urna a finibus tempor, metus sapien pulvinar ligula, sed rutrum ante sapien eget urna. Aenean fringilla viverra neque, at semper eros sollicitudin at. Nunc consectetur efficitur sem, sed facilisis nulla pretium bibendum. Integer sed neque eget dolor rutrum rhoncus. Morbi consectetur nibh diam, in aliquet nisl elementum pharetra. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque auctor fermentum vehicula.Sed convallis porttitor magna nec blandit. Aliquam eget faucibus velit. Cras bibendum, lectus in iaculis dapibus, mauris metus laoreet sem, non vestibulum justo lacus eu felis. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi vel tellus odio. Curabitur ultrices tortor semper purus interdum, id tincidunt erat viverra. Donec at augue dapibus, dapibus tellus non, pretium lectus. Morbi pharetra elementum malesuada. Nulla viverra, ipsum sed lobortis faucibus, nisl metus iaculis nisi, a fermentum risus justo eget odio. Duis et dui quis odio tincidunt accumsan a ac nisl. Maecenas vulputate id tortor et venenatis. Phasellus ac magna egestas, vestibulum orci sed, posuere nibh.Nulla imperdiet rutrum ligula. Suspendisse gravida justo vel massa lacinia gravida. Phasellus id nulla elementum tellus semper accumsan eget non urna. Cras luctus lorem non nisl porttitor dapibus eu ac eros. Nullam tempus risus a justo tempor fringilla. Proin turpis felis, tempor quis blandit nec, congue quis felis. Pellentesque id mattis metus. Mauris eleifend faucibus orci a gravida. Duis ut leo pellentesque, placerat ante eu, commodo ante.</div>';
		
		$("#button").click(function(){
			$('#modal-window').lightbox({
								added: added,
                                zIndex:99999,
								destroyed: destroyed,
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:600,
								type:'html',
								contentHtml:_html1,
								closeWhenClickOutside:false
								});
			return false;	
		});
		
		function added () {
						
			$("#button-load-3").click(function(){
				//------------				
				//abrir html simples
				/*var data = new Object;
				data.width = 700;
				data.height = 300;
				data.contentHtml = '<div style="background-color:#ffffff;">conteúdo 2</div>';
				data.item = $(this);*/
				
				//abre um novo item via ajax
				var data = new Object;
				data.width = 700;
				data.height = 300;/**/
				data.ajax_sucess = ajax_sucess2;
				data.url = "ajax-3.php";
				data.type = 'ajax';
				data.data = { valor: "teste"};
				data.type_ajax					= "POST";
				data.dataType					= "json";
				data.show_loader = "width:32px; height:32px; display:block; background:url(ajax-loader.gif) no-repeat center center #000000; border-radius:5px; padding:10px; position:absolute; top:50%; left:50%; margin:-16px 0 0 -16px; z-index:10;";
				data.item = $(this);//obrigatorio para saber qual foi o pai do botão que foi clicado
				data.close_button = " background:url(bt-fechar.png) no-repeat 0 0; position:absolute; margin:10px 10px 0 0; width:25px; height:25px; display:block; background:url(bt-fechar.png) no-repeat 0 0; top: 0; right:0; z-index:10;";/**/

				$('#modal-window').lightbox("hideContent",data);

				
				//------------
				return false;	
			});
		}
		
		function destroyed () {
			console.log("plugin removido");
		}
				
		//-----------------------------------------
		
		//lightbox com ajax		
		$("#button-2").click(function(){
			$('.light-box-wrapper').lightbox({
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:500,
								type:'ajax',
								url:"ajax.php",
								close_button:" background:url(bt-fechar.png) no-repeat 0 0; position:absolute; margin:10px 10px 0 0; width:25px; height:25px; display:block; background:url(bt-fechar.png) no-repeat 0 0; top: 0; right:0; z-index:10;",
								data:{ valor: "teste"},
								type_ajax					: "POST",
								dataType					: "json",
								closeWhenClickOutside:true,
								show_loader:"width:32px; height:32px; display:block; background:url(ajax-loader.gif) no-repeat center center #000000; border-radius:5px; padding:10px; position:absolute; top:50%; left:50%; margin:-16px 0 0 -16px; z-index:10;",
								ajax_error:ajax_error,
								ajax_sucess:ajax_sucess,
								ajax_complete:ajax_complete});
			return false;	
		});
		
		function ajax_error (event)
		{
			//console.log("ajax error");
		}
		
		function ajax_sucess (event)
		{
			$("#bt-overlay").click(function()
			{
				//vamos manter os dados originais do plugin e alguns atriutos
				var data = new Object;
				data.width = 500;
				data.data = { valor: "Este é um valor qualquer"};
				data.ajax_sucess = ajax_sucess2;
				data.url = "ajax-2.php";
				data.item = $(this);//obrigatorio para saber qual foi o pai do botão que foi clicado
				data.show_loader="width:32px; height:32px; display:block; background:url(ajax-loader.gif) no-repeat center center #000000; border-radius:5px; padding:10px; position:absolute; top:50%; left:50%; margin:-16px 0 0 -16px; z-index:10;";
				$('.light-box-wrapper').lightbox("hideContent",data);
				
			});
		}
		
		function ajax_sucess2 (event){
			
			$("#bt-overlay-2").click(function()
			{				
				//vamos manter os dados originais do plugin e alguns atriutos
				var data = new Object;
				data.width = 700;
				/*data.height = 300;*/
				data.ajax_sucess = ajax_sucess3;
				data.url = "ajax-3.php";
				data.item = $(this);//obrigatorio para saber qual foi o pai do botão que foi clicado

				$('.light-box-wrapper').lightbox("hideContent",data);
				
			});
		}
		
		function ajax_sucess3 (event)
		{
			//console.log("ajax complete 3");
		}
		
		function ajax_complete (event)
		{
			//console.log("ajax complete");
		}
		
		//-----------------------------------------
	});

</script>
<style type="text/css">
	.center{ width:960px; margin:0 auto;}
</style>
</head>

<body>
<div class="center">
<a href="#" id="button" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 0; display:inline-block; width:100px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">HTML</a>
<a href="#" id="button-2" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 20px; display:inline-block; width:100px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">AJAX</a>
<a href="#" id="button-3" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 20px; display:inline-block; width:300px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">Abre e remove overlay após 4 segundos</a>
<a href="#" id="button-4" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 20px; display:inline-block; width:200px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">Chama método interno</a>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>

</div>
</body>
</html>
