<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Plugin</title>
<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="jquery-lightbox.js"></script>
<script type="text/javascript">
	jQuery(document).ready(
	function()
	{
		var _html;
		
		//------------------------------
		$("#button-4").click(function(){
			_html = '<div style="background-color:#ffffff; border:1px solid red;"><div style="padding:40px 20px;">Após 6 segundo o método para remover o overlay será chamado</div></div>';

			$('#element-2').lightbox({
                                zIndex:99999,
								added: itemAdded,
								destroyed: destroyed,
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:300,
								height:300,
								type:'html',
								contentHtml:_html,
								closeWhenClickOutside:false,
								closeWithDelay:6
								});
			return false;	
		});
		
		function itemAdded ()
		{
			var interval = setTimeout(function(){ $('#element-2').lightbox("remove"); clearTimeout(interval);},4000);
		}
		
		//------------------------------
		$("#button-3").click(function(){
			_html = '<div style="background-color:#ffffff; border:1px solid red;"><div style="padding:40px 20px;">Este overlay irá fechar após 4 segundos</div></div>';

			$('#element').lightbox({
                                zIndex:99999,
								destroyed: destroyed,
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:300,
								height:300,
								type:'html',
								contentHtml:_html,
								closeWhenClickOutside:false,
								closeWithDelay:4
								});
			return false;	
		});
		
		//lightbox com html simples
		_html = '<div style="background-color:#ffffff; border:1px solid red;"><a id="button-load-3" href="#" style="border:1px solid #000000; padding:10px; display:inline-block; margin:30px;">abrir novo overlay</a></div>';
		
		$("#button").click(function(){
			$('#modal-window').lightbox({
								added: added,
                                zIndex:99999,
								destroyed: destroyed,
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:600,
								height:600,
								type:'html',
								contentHtml:_html,
								closeWhenClickOutside:false,
								close_button:" background:url(bt-fechar.png) no-repeat 0 0; position:absolute; margin:10px 10px 0 0; width:25px; height:25px; display:block; background:url(bt-fechar.png) no-repeat 0 0; top: 0; right:0; z-index:10;"
								});
			return false;	
		});
		
		function added () {
						
			$("#button-load-3").click(function(){
				//------------				
				//abrir html simples
				/*var data = new Object;
				data.width = 700;
				data.height = 300;
				data.contentHtml = '<div style="background-color:#ffffff;">conteúdo 2</div>';
				data.item = $(this);*/
				
				//abre um novo item via ajax
				var data = new Object;
				data.width = 700;
				data.height = 300;
				data.ajax_sucess = ajax_sucess2;
				data.url = "ajax-3.php";
				data.type = 'ajax';
				data.data = { valor: "teste"};
				data.type_ajax					= "POST";
				data.dataType					= "json";
				data.show_loader = "width:32px; height:32px; display:block; background:url(ajax-loader.gif) no-repeat center center #000000; border-radius:5px; padding:10px; position:absolute; top:50%; left:50%; margin:-16px 0 0 -16px; z-index:10;";
				data.item = $(this);//obrigatorio para saber qual foi o pai do botão que foi clicado
				data.close_button = " background:url(bt-fechar.png) no-repeat 0 0; position:absolute; margin:10px 10px 0 0; width:25px; height:25px; display:block; background:url(bt-fechar.png) no-repeat 0 0; top: 0; right:0; z-index:10;";/**/

				$('#modal-window').lightbox("hideContent",data);

				
				//------------
				return false;	
			});
		}
		
		function destroyed () {
			console.log("plugin removido");
		}
				
		//-----------------------------------------
		
		//lightbox com ajax		
		$("#button-2").click(function(){
			$('.light-box-wrapper').lightbox({
								background:'background-color:rgba(0,0,0,.8);',
								time:300,
								width:500,
								height:300,
								type:'ajax',
								url:"ajax.php",
								data:{ valor: "teste"},
								type_ajax					: "POST",
								dataType					: "json",
								closeWhenClickOutside:true,
								show_loader:"width:32px; height:32px; display:block; background:url(ajax-loader.gif) no-repeat center center #000000; border-radius:5px; padding:10px; position:absolute; top:50%; left:50%; margin:-16px 0 0 -16px; z-index:10;",
								ajax_error:ajax_error,
								ajax_sucess:ajax_sucess,
								ajax_complete:ajax_complete});
			return false;	
		});
		
		function ajax_error (event)
		{
			//console.log("ajax error");
		}
		
		function ajax_sucess (event)
		{
			$("#bt-overlay").click(function()
			{
				//vamos manter os dados originais do plugin e alguns atriutos
				var data = new Object;
				data.width = 500;
				data.height = 500;
				data.data = { valor: "Este é um valor qualquer"};
				data.ajax_sucess = ajax_sucess2;
				data.url = "ajax-2.php";
				data.item = $(this);//obrigatorio para saber qual foi o pai do botão que foi clicado
				data.close_button = " background:url(bt-fechar.png) no-repeat 0 0; position:absolute; margin:10px 10px 0 0; width:25px; height:25px; display:block; background:url(bt-fechar.png) no-repeat 0 0; top: 0; right:0; z-index:10;";
				data.show_loader="width:32px; height:32px; display:block; background:url(ajax-loader.gif) no-repeat center center #000000; border-radius:5px; padding:10px; position:absolute; top:50%; left:50%; margin:-16px 0 0 -16px; z-index:10;";
				$('.light-box-wrapper').lightbox("hideContent",data);
				
			});
		}
		
		function ajax_sucess2 (event){
			
			$("#bt-overlay-2").click(function()
			{				
				//vamos manter os dados originais do plugin e alguns atriutos
				var data = new Object;
				data.width = 700;
				data.height = 300;
				data.ajax_sucess = ajax_sucess3;
				data.url = "ajax-3.php";
				data.item = $(this);//obrigatorio para saber qual foi o pai do botão que foi clicado
				data.close_button = " background:url(bt-fechar.png) no-repeat 0 0; position:absolute; margin:10px 10px 0 0; width:25px; height:25px; display:block; background:url(bt-fechar.png) no-repeat 0 0; top: 0; right:0; z-index:10;";

				$('.light-box-wrapper').lightbox("hideContent",data);
				
			});
		}
		
		function ajax_sucess3 (event)
		{
			//console.log("ajax complete 3");
		}
		
		function ajax_complete (event)
		{
			//console.log("ajax complete");
		}
		
		//-----------------------------------------
	});

</script>
<style type="text/css">
	.center{ width:960px; margin:0 auto;}
</style>
</head>

<body>
<div class="center">
<a href="#" id="button" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 0; display:inline-block; width:100px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">HTML</a>
<a href="#" id="button-2" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 20px; display:inline-block; width:100px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">AJAX</a>
<a href="#" id="button-3" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 20px; display:inline-block; width:300px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">Abre e remove overlay após 4 segundos</a>
<a href="#" id="button-4" style="border:1px solid black; padding:5px 10px; margin:50px 0 0 20px; display:inline-block; width:200px; text-align:center; text-decoration:none; font-family:Arial, Helvetica, sans-serif;">Chama método interno</a>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat erat sagittis tortor condimentum, in gravida nisl iaculis. Vivamus ligula arcu, aliquet in purus non, dapibus placerat tortor. Sed lacinia posuere diam ut efficitur. Nulla at sollicitudin nunc. Etiam purus leo, posuere et enim in, tincidunt bibendum ex. Vivamus a massa vel turpis mollis suscipit. Curabitur eget congue neque. Sed eu varius leo, condimentum placerat dolor. Etiam vitae est sodales, varius ex sed, maximus magna.</p>

</div>
</body>
</html>
